<!DOCTYPE html>
<html>
<head>
  <title>Creador de Subdominios .club</title>
</head>
<body>
  <h1>Genera tu subdominio .club GRATIS</h1>
  <form id="form">
    <label>Nombre del subdominio:</label>
    <input type="text" id="subdomain" required>
    <br>
    <label>Código HTML de tu web:</label>
    <textarea id="code" rows="10" cols="50" required></textarea>
    <br>
    <button type="submit">Crear mi web</button>
  </form>
  <div id="result"></div>

  <script>
    document.getElementById('form').onsubmit = function(e) {
      e.preventDefault();
      const subdomain = document.getElementById('subdomain').value.trim();
      const code = document.getElementById('code').value;
      if (!subdomain || !code) return;

      // Guardar código en localStorage
      localStorage.setItem('clubweb_' + subdomain, code);

      // Mostrar enlace de la web
      document.getElementById('result').innerHTML =
        `Tu web está lista: <a href="?web=${subdomain}" target="_blank">https://${subdomain}.deymoon.club/</a>`;
    };

    // Si se accede con ?web=nombre, mostrar esa web
    const params = new URLSearchParams(window.location.search);
    if (params.has('web')) {
      const subdomain = params.get('web');
      const code = localStorage.getItem('clubweb_' + subdomain);
      if (code) {
        document.body.innerHTML = code;
      } else {
        document.body.innerHTML = '<h2>No existe esa web.</h2>';
      }
    }
  </script>
</body>
</html>